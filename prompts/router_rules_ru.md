# Правила роутера линз

Роутер выбирает 2–3 линзы по ключевым словам из запроса пользователя.

## Ключевые слова по темам

### Программирование (lens_programming.md)
- ключевые слова: код, программирование, python, javascript, разработка, функция, баг, ошибка, API

### Продуктивность (lens_productivity.md)
- ключевые слова: продуктивность, тайм-менеджмент, задачи, цели, планирование, привычки, эффективность

### Психология (lens_psychology.md)
- ключевые слова: психология, эмоции, стресс, мотивация, отношения, чувства

### Наука (lens_science.md)
- ключевые слова: наука, исследование, эксперимент, данные, статистика, гипотеза

### Бизнес (lens_business.md)
- ключевые слова: бизнес, стартап, маркетинг, продажи, стратегия

### Зона контроля (lens_control_scope.md)
- ключевые слова: хаос, не контролирую, всё валится, тревога, перегруз, неопределённость

### Разрыв ожиданий (lens_expectation_gap.md)
- ключевые слова: ожидал, должно было, рассчитывал, разочарование, кризис

### Ограниченное время (lens_mortality_focus.md)
- ключевые слова: время, не успею, жизнь проходит, смысл, приоритеты

### Роль и позиция (lens_role_position.md)
- ключевые слова: как поступить, моя позиция, решение, конфликт, ответственность

### Минимальное действие (lens_micro_agency.md)
- ключевые слова: не могу начать, нет сил, апатия, прокрастинация, низкая энергия

### Границы (lens_boundary.md)
- ключевые слова: давят, требуют, не хочу, границы, давление, ожидания

### Жизненный сюжет (lens_narrative.md)
- ключевые слова: я такой, моя жизнь, всегда так, самооценка, идентичность

### Финансовый режим (financial_pattern_confusion)
route → expectation_gap + control_scope, mode tag: financial_pattern_confusion

Триггеры (если текст содержит):
- зарабатываю много но нет накоплений
- деньги уходят
- не копится
- куда уходят деньги
- высокий доход но нет сбережений

## Логика выбора
- Сопоставить слова запроса с ключевыми словами
- Взять до 3 линз с наибольшим количеством совпадений
- Если совпадений нет — lens_general (в guidance заменяется на lens_control_scope)
