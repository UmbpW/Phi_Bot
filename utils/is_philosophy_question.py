"""Расширенное определение философского вопроса: философия + конфессии (сравнительная антропология)."""

# Прямые триггеры — обход triage. Используем stems: «про философ» ловит «про философов», «про философию» и т.д.
PHILOSOPHY_DIRECT_TRIGGERS = [
    "про философ", "о философ", "про философи", "о философи",
    "поговорим про философ", "поговорим о философ",
    "объясни как философ", "с точки зрения философии",
    "разные философские подходы", "что философы", "как философы",
    "философский взгляд", "философия про", "хочу философский разбор",
]


def is_direct_philosophy_intent(text: str) -> bool:
    """True если явный запрос на философский разговор — обход triage/orientation."""
    if not text or not (text or "").strip():
        return False
    t = (text or "").strip().lower()
    return any(k in t for k in PHILOSOPHY_DIRECT_TRIGGERS)


# Широкие stems: любой из них в тексте → философский контекст
PHILOSOPHY_TRIGGERS = (
    "философ", "философи", "мыслител", "школ", "направлени", "течени",
    "как думать", "даос", "дао", "стоики", "стоицизм", "камю", "франкл",
    "экзистенци", "конфесси", "религ", "молитв", "церков", "будд", "христианств",
    "ислам", "иудаизм", "вера", "смысл жизни", "зачем жить",
    "эпох", "возрождени", "античн", "традици",
)


def is_philosophy_question(text: str) -> bool:
    """True если вопрос про философию или конфессии (сравнительная антропология)."""
    if not text or len(text.strip()) < 3:
        return False
    t = (text or "").lower().strip()
    return any(tr in t for tr in PHILOSOPHY_TRIGGERS)
