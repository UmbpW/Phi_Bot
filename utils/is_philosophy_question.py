"""Расширенное определение философского вопроса: философия + конфессии (сравнительная антропология)."""

# Hotfix-A: прямые триггеры «поговорим о философии» — обход triage
PHILOSOPHY_DIRECT_TRIGGERS = [
    "поговорим про философ",
    "поговорим о философ",
    "объясни как философ",
    "с точки зрения философии",
    "разные философские подходы",
    "что философы думают",
    "как философы смотрят",
    "философский взгляд",
    "философия про",
    "хочу философский разбор",
    "просто философски объясни",
]


def is_direct_philosophy_intent(text: str) -> bool:
    """True если явный запрос на философский разговор — обход triage/orientation."""
    if not text or not (text or "").strip():
        return False
    t = (text or "").strip().lower()
    return any(k in t for k in PHILOSOPHY_DIRECT_TRIGGERS)


PHILOSOPHY_TRIGGERS = (
    "философ",
    "как думать",
    "даос",
    "дао",
    "стоики",
    "стоицизм",
    "камю",
    "франкл",
    "экзистенци",
    "экзистенц",
    "конфесси",
    "религ",
    "молитв",
    "молитва",
    "церков",
    "будд",
    "буддизм",
    "христианств",
    "ислам",
    "иудаизм",
    "вера",
    "веровать",
    "смысл жизни",
    "зачем жить",
)


def is_philosophy_question(text: str) -> bool:
    """True если вопрос про философию или конфессии (сравнительная антропология)."""
    if not text or len(text.strip()) < 3:
        return False
    t = (text or "").lower().strip()
    return any(tr in t for tr in PHILOSOPHY_TRIGGERS)
